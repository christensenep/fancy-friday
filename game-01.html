<!DOCTYPE html>
<meta charset="utf-8">
<style>
html {
  height: 100%;
}

button:hover {
  background: black;
  color: white;
  cursor: pointer;
}

button {
  border: 1px solid black;
  padding: 4px;
  background: white;
  font-size: 24px;
  position: absolute;
  transition: top 1s, left 1s;
}
</style>
<title>Game 1</title>
<br>
<button autocomplete="off">tap me</button>
<script>
var html = document.querySelector('html');
var button = document.querySelector('button');
var interval;

// Returns a random integer between min and max
// Using Math.round() will give you a non-uniform distribution!
function getRandomInt(min, max) {
  return Math.floor(Math.random() * (max - min + 1) + min);
}

function win() {
  parent.postMessage('win', "*");
  button.textContent = 'HOORAY';
  clearInterval(interval);
}

function moveButton() {
  button.style.top = getRandomInt(0, html.offsetHeight -
                                     button.offsetHeight) + "px";
  button.style.left = getRandomInt(0, html.offsetWidth - 
                                      button.offsetWidth) + "px";
}

button.ontouchstart = button.onmousedown = win;

onload = function() {
  interval = setInterval(moveButton, 1500);
  moveButton();
};

onmessage = function(e) {
  if (e.data.type == "outoftime") {
    button.textContent = 'U SUK';
    clearInterval(interval);
    html.style.backgroundColor = "crimson";
  }
};
</script>
